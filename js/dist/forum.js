(()=>{var e={535:e=>{"use strict";e.exports=flarum.extensions["fof-byobu"]}},t={};function o(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";o.r(r);const e=flarum.core.compat["forum/app"];var t=o.n(e);const s=flarum.core.compat.extend,n=flarum.core.compat["common/utils/ItemList"];var a=o.n(n);const i=flarum.core.compat["common/components/Button"];var u=o.n(i);const c=flarum.core.compat["forum/components/CommentPost"];var m=o.n(c);t().initializers.add("jamesinc/send-dm",(function(){(0,s.extend)(m().prototype,"actionItems",(function(e){var r,s=this.attrs.post,n=s.user();r=n,t().session.user&&t().session.user.id()!==r.id()&&t().forum.attribute("canStartPrivateDiscussion")&&(!r.blocksPd()||t().forum.attribute("canStartPrivateDiscussionWithBlockers")&&r.cannotBeDirectMessaged())&&!s.data.attributes.isHidden&&e.add("private-discussion",u().component({className:"Button Button--link Button--sendPrivateMessage",onclick:function(e){return e.preventDefault(),new Promise((function(e){var r=new(a()),s=o(535).discussions.PrivateDiscussionComposer;return r.add("users:"+t().session.user.id(),t().session.user),r.add("users:"+n.id(),n),s.prototype.recipients=r,t().composer.load(s,{user:t().session.user,recipients:r,recipientUsers:r,titlePlaceholder:t().translator.trans("fof-byobu.forum.composer_private_discussion_title_placeholder"),submitLabel:t().translator.trans("fof-byobu.forum.composer_private_discussion.submit_button")}),t().composer.show(),e(t().composer)}))}},t().translator.trans("fof-byobu.forum.buttons.send_pd",{username:n.displayName()})))}))}))})(),module.exports=r})();
//# sourceMappingURL=forum.js.map